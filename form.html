<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Registro</title>
  <link rel="stylesheet" href="formStyle.css">
</head>
<body>

  <section class="registro-section" id="registro">
    <h2>Formulario de Registro</h2>
    <p>Por favor completa todos los campos para crear tu cuenta.</p>

    <!-- ✅ id agregado -->
    <form id="registroForm">
      <label for="nombre">Nombre completo</label>
      <input type="text" id="nombre" name="nombre" required minlength="3" maxlength="40" placeholder="Ingresa tu nombre">
      <span class="error-msg">El nombre debe tener entre 3 y 40 caracteres.</span>

      <label for="email">Correo electrónico</label>
      <input type="email" id="email" name="email" required placeholder="ejemplo@correo.com">
      <span class="error-msg">Por favor, ingresa un correo válido.</span>

      <label for="password">Contraseña</label>
      <input type="password" id="password" name="password" required minlength="6" maxlength="20"
       pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).{6,20}$"
       placeholder="Mín. 6 caracteres, mayúscula, minúscula y número">
      <span class="error-msg">La contraseña debe tener mayúscula, minúscula y número (6-20 caracteres).</span>

      <label for="confirm-password">Confirmar contraseña</label>
      <input type="password" id="confirm-password" name="confirm-password" required minlength="6" maxlength="20"
             placeholder="Repite tu contraseña">
      <span class="error-msg">Debes confirmar la contraseña.</span>

      <label for="telefono">Teléfono</label>
      <input type="tel" id="telefono" name="telefono" pattern="[0-9]{9}" placeholder="Ejemplo: 987654321">
      <span class="error-msg">El teléfono debe contener 9 números.</span>

      <button type="submit">Registrarse</button>
    </form>
  </section>

  <!-- Modal de éxito -->
  <div id="popup" class="popup">
    <div class="popup-content">
      <h3>¡Registro exitoso!</h3>
      <p>Te has registrado correctamente.</p>
      <button id="closePopup">Cerrar</button>
    </div>
  </div>

  <script>
    const form = document.getElementById("registroForm");
    const popup = document.getElementById("popup");
    const closePopup = document.getElementById("closePopup");

    form.addEventListener("submit", function(e) {
      e.preventDefault(); // evita envío real
      if (form.checkValidity()) {
        popup.style.display = "flex"; // muestra popup
        form.reset(); // limpia el formulario
      } else {
        form.reportValidity(); // muestra errores nativos si algo falta
      }
    });

    // Botón cerrar
    closePopup.addEventListener("click", () => {
      popup.style.display = "none";
    });

    // Cerrar clickeando fuera del modal
    window.addEventListener("click", (e) => {
      if (e.target === popup) {
        popup.style.display = "none";
      }
    });
  </script>
</body>
</html>
